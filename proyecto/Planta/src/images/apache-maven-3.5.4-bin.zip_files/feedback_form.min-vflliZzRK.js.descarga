define(["require","exports","tslib","external/react","modules/core/i18n","modules/clean/react/modal","modules/clean/react/css","modules/clean/react/feedback/types"],function(e,t,n,s,a,o,r,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),s=n.__importStar(s);var l=(function(e){function t(t){var s=e.call(this,t)||this;s.onAccept=function(){return n.__awaiter(s,void 0,void 0,function(){var e,t,s,a,r,c;return n.__generator(this,function(n){switch(n.label){case 0:if(e=this.props.onSubmit,!e)return[3,4];for(t={},s=0,a=Object.keys(this.state.value);s<a.length;s++)r=a[s],t[r]=this.state.value[r].value;n.label=1;case 1:return n.trys.push([1,3,,4]),[4,e(t)];case 2:return n.sent(),[3,4];case 3:return c=n.sent(),[3,4];case 4:return o.Modal.close(),[2]}})})},s.onCancel=function(){s.props.onCancel&&s.props.onCancel()},s.state={submitting:!1,value:{}};for(var a=0,r=Object.keys(t.model);a<r.length;a++){var c=r[a];s.state.value[c]={complete:!1,value:t.model[c]}}return s}return n.__extends(t,e),t.prototype.getChildContext=function(){var e=this,t=this.state;return{feedbackForm:{setComplete:function(n,s){t.value[n].complete=s,e.forceUpdate()},setValue:function(n,s,a){t.value[n]={complete:a,value:s},e.forceUpdate()},value:t.value}}},t.prototype.render=function(){var e=this.props.title,t=this.state,n=t.submitting,r=t.value,c=Object.keys(r).every(function(e){return r[e].complete});return s.createElement(o.Modal,{className:"zendesk-feedback-form",title:e,acceptButtonDisabled:n||!c,acceptButtonText:a._("Send Feedback"),autoClose:!1,dismissButtonText:a._("Cancel"),onAccept:this.onAccept,onCancel:this.onCancel},this.props.children)},t.childContextTypes=c.ContextTypes,t})(s.Component);t.FeedbackForm=r.requireCssWithComponent(l,["/static/css/zendesk_feedback-vflr6Jf-t.css"])});
//# sourceMappingURL=feedback_form.min.js-vflnJDcR2.map