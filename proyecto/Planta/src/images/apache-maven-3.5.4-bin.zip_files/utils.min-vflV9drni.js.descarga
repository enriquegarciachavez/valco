define(["require","exports","tslib","modules/clean/open_with","modules/clean/react/file_viewer/constants","modules/clean/react/file_viewer/open_button/types","modules/clean/react/file_viewer/unity/unity_utils","modules/clean/react/file_viewer/utils","modules/clean/react/paper/utils","modules/clean/react/file_viewer/data/actions","modules/core/i18n"],function(e,n,t,i,r,o,s,u,p,l,a){"use strict";function c(e){var n=e.file,t=e.hasOpenInPaperSupport,i=e.isUnityDisabled,s=e.isOpenWithDisabled,p=e.unityInfo,c=e.user;if(!p)return[];var U=[];t&&U.push({handler:v({file:n,user:c}),spriteName:"paper",text:a._("Copy to Paper"),type:o.OpenButtonAction.OPEN_IN_PAPER,userAction:r.UserAction.CopyToPaper}),d({isUnityDisabled:i,unityInfo:p})&&U.push({handler:h({file:n,user:c,isFolder:!1}),spriteName:"ow_desktop",text:y(p),type:o.OpenButtonAction.UNITY_FILE,userAction:r.UserAction.OpenInUnity});var A=u.OpenWithHelpers.getOpenWithHandlerData(n,c);return _({file:n,isOpenWithDisabled:s,user:c})&&A&&U.push({handler:m({file:n,user:c}),spriteName:A.icon,text:A.name,type:o.OpenButtonAction.OPEN_WITH,userAction:r.UserAction.OpenInOfficeOnline}),f({isUnityDisabled:i,unityInfo:p})&&U.push({handler:h({file:n,user:c,isFolder:!0}),spriteName:"ow_folder",text:O(p),type:o.OpenButtonAction.UNITY_FOLDER,userAction:r.UserAction.OpenInUnityFolder}),U.length||U.push({handler:function(){return l.download(n)},spriteName:null,text:a._("Download"),type:o.OpenButtonAction.DOWNLOAD,userAction:r.UserAction.Download}),U}function f(e){var n=e.isUnityDisabled,t=e.unityInfo;return!n&&s.UnityHelpers.isUnityFolderSupported(t)}function d(e){var n=e.isUnityDisabled,t=e.unityInfo;return!n&&s.UnityHelpers.isUnityFileSupported(t)}function _(e){var n=e.file,t=e.isOpenWithDisabled,i=e.user;return!t&&u.OpenWithHelpers.canOpenWith(n,i)}function y(e){var n=(e?e.open_application_name:void 0)||a._("Desktop");return a._("Open in %(app_name)s").format({app_name:n})}function O(e){var n=(null!==e?e.file_browser_display_name:void 0)||a._("File Browser");return a._("Show in %(file_browser)s").format({file_browser:n})}function h(e){var n=e.file,t=e.isFolder,i=e.user;return function(){s.UnityHelpers.openFile(n.ns_id,n.ns_path,i.id,t)}}function m(e){var n=e.file,t=e.user;return function(){u.OpenWithHelpers.openWith(n,t)}}function v(e){var n=e.file,t=e.user;return function(){p.openFileInPaper({file:n,user:t})}}function U(e,n){var t=e.map(function(e){return e.type}).includes(o.OpenButtonAction.UNITY_FILE),r=n&&i.default.is_adobe_app(n.open_application_identifier),s=e.map(function(e){return e.type}).includes(o.OpenButtonAction.OPEN_WITH);return t&&r||s}Object.defineProperty(n,"__esModule",{value:!0}),i=t.__importDefault(i),n.getOpenOptions=c,n.shouldShowCoachmark=U});
//# sourceMappingURL=utils.min.js-vflaEKxC4.map