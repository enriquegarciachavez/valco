define("modules/clean/react/selectable_list",["require","exports","tslib","external/immutable","external/keymaster","external/react","external/react-dom","modules/core/browser"],function(e,t,n,l,i,a,o,s){"use strict";function c(e,t,n,l){switch(e){case d.PREV:return Math.max(0,t-1);case d.NEXT:return Math.min(n-1,t+1);case d.PREV_ROW:var i=t>=0?t-l:0;return i>=0?i:t;case d.NEXT_ROW:var a=t>=0?t+l:0;return a<n?a:t}}function r(e,t,n,l,i,a,o,s){switch(e){case d.PREV:if(0===t)return o;if(l===a)i-1>=0&&o.push(s[i-1]);else{var c=o.indexOf(s[a]);o.splice(c,1)}break;case d.NEXT:if(t===s.length)return o;if(l===i||l!==a)a+1<s.length&&o.push(s[a+1]);else{var c=o.indexOf(s[i]);o.splice(c,1)}break;case d.PREV_ROW:if(0===t)return o;if(l===a)for(var r=Math.min(n,t),u=t-1;u>=t-r;u--)o.push(s[u]);else if(l===i)for(var h=Math.min(n,t-i),u=a;u>a-h;u--){var c=o.indexOf(s[u]);o.splice(c,1)}break;case d.NEXT_ROW:if(t===s.length)return o;if(l===i)for(var r=Math.min(n,s.length-t-1),u=t+1;u<=t+r;u++)o.push(s[u]);else if(l===a)for(var h=Math.min(n,a-t),u=i;u<i+h;u++){var c=o.indexOf(s[u]);o.splice(c,1)}}return o}Object.defineProperty(t,"__esModule",{value:!0}),l=n.__importStar(l),i=n.__importDefault(i),a=n.__importStar(a),o=n.__importStar(o),s=n.__importStar(s),t.SELECTABLE_LIST_KEY_SCOPE="SelectableList",t.SELECTABLE_TILE_GRID_KEY_SCOPE="SelectableTileGrid";var d,u="";(function(e){e[e.PREV=0]="PREV",e[e.NEXT=1]="NEXT",e[e.PREV_ROW=2]="PREV_ROW",e[e.NEXT_ROW=3]="NEXT_ROW"})(d=t.SelectDirection||(t.SelectDirection={})),t.findNeighboringItem=c,t.findSelectionRange=r;var h=(function(e){function h(t){var n=e.call(this,t)||this;return n.isFocused=!1,n.handleSelectPrevious=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.selectNeighboringItem(d.PREV))},n.handleSelectPreviousRow=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.selectNeighboringItem(d.PREV_ROW))},n.handleExtendSelectionToPrevious=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.extendSelectionRange(d.PREV))},n.handleExtendSelectionToPreviousRow=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.extendSelectionRange(d.PREV_ROW))},n.handleSelectNext=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.selectNeighboringItem(d.NEXT))},n.handleSelectNextRow=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.selectNeighboringItem(d.NEXT_ROW))},n.handleExtendSelectionToNext=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.extendSelectionRange(d.NEXT))},n.handleExtendSelectionToNextRow=function(e){n.isGlobalEvent(e)&&(e.preventDefault(),n.extendSelectionRange(d.NEXT_ROW))},n.handleDeselectAll=function(e){var t=n.props.selection;if((!e||n.isGlobalEvent(e))&&t.selected.size&&(n.updateSelection([],!0),o.findDOMNode(n).contains(document.activeElement))){var l=document.activeElement;l.blur&&l.blur()}},n.handleSelectAll=function(e){var t=n.props,l=t.itemIds,i=t.selection;e&&!n.isGlobalEvent(e)||i.selected.size===l.length||n.updateSelection(n.props.itemIds,!0)},n.handleDeselect=function(e,t){if(t)return n.extendOrShrinkSelectionByFile(e);n.updateSelectionById(e,"delete")},n.handleSelect=function(e,t){if(t)return n.extendOrShrinkSelectionByFile(e);n.updateSelectionById(e,"add")},n.handleFocusFile=function(e){n.setState({focusedFileId:e})},n.isSelectableListEvent=function(){return n.isFocused},n.handleFocus=function(){n.isFocused=!0},n.handleBlur=function(){n.isFocused=!1},n.state={focusedFileId:null,selection:t.selection,keyScope:t.keyScope},n}return n.__extends(h,e),h.prototype.componentWillReceiveProps=function(e){this.props.keyScope!==e.keyScope&&(this.setState({keyScope:e.keyScope}),this.isFocused=!1)},h.prototype.componentDidMount=function(){this.setupKeyboardShortcuts(),this.setFocusedIdFromSelection(this.props.selection)},h.prototype.componentDidUpdate=function(e,t){e.selection&&this.props.selection&&e.selection.anchor!==this.props.selection.anchor&&this.setFocusedIdFromSelection(this.props.selection),this.state.keyScope!==t.keyScope&&this.setupKeyboardShortcuts()},h.prototype.componentWillUnmount=function(){this.cleanupKeyboardShortcuts()},h.prototype.setupKeyboardShortcuts=function(){var e=this,n=this.state.keyScope;u=i.default.getScope(),u!==n&&i.default.setScope(n);var l=i.default.filter||function(e){var t=e.target||e.srcElement;if(!(t instanceof Element))return!0;var n=t.tagName;return!("INPUT"===n||"SELECT"===n||"TEXTAREA"===n)};i.default.filter=function(t){var n=t.target||t.srcElement,i=n.tagName;return(!e.isSelectableListEvent()||"BUTTON"!==i)&&(n instanceof HTMLInputElement&&"checkbox"===n.type||l.call(e,t))},n===t.SELECTABLE_LIST_KEY_SCOPE?(i.default("up",n,this.handleSelectPrevious),i.default("shift+up",n,this.handleExtendSelectionToPrevious),i.default("down",n,this.handleSelectNext),i.default("shift+down",n,this.handleExtendSelectionToNext)):n===t.SELECTABLE_TILE_GRID_KEY_SCOPE&&(i.default("left",n,this.handleSelectPrevious),i.default("shift+left",n,this.handleExtendSelectionToPrevious),i.default("right",n,this.handleSelectNext),i.default("shift+right",n,this.handleExtendSelectionToNext),i.default("up",n,this.handleSelectPreviousRow),i.default("shift+up",n,this.handleExtendSelectionToPreviousRow),i.default("down",n,this.handleSelectNextRow),i.default("shift+down",n,this.handleExtendSelectionToNextRow)),i.default("escape",n,this.handleDeselectAll),s.mac?i.default("command+a",n,this.handleSelectAll):i.default("ctrl+a",n,this.handleSelectAll)},h.prototype.cleanupKeyboardShortcuts=function(){i.default.clearScope(this.state.keyScope),u&&i.default.setScope(u),i.default.resetFilter()},h.prototype.setFocusedIdFromSelection=function(e){e.anchor&&0!==e.selected.size&&this.setState({focusedFileId:e.anchor})},h.prototype.handleTabbingStart=function(){document.body.classList.add("tabbing"),this.props.onTabbingStart()},h.prototype.updateSelection=function(e,t){void 0===t&&(t=!1);var n=this.props.selection,i=t?e.length?e[0]:this.props.itemIds[0]:n.anchor,a=n.merge({selected:l.OrderedSet(e),anchor:i});this.props.onSelectionChange(a)},h.prototype.selectNeighboringItem=function(e){var t=this.props,n=t.itemIds,l=t.selection,i=t.tilesPerRow,a=n.indexOf(l.selected.last()),o=c(e,a,n.length,i),s=n[o];this.setState({focusedFileId:s}),this.updateSelection([s],!0),this.handleTabbingStart()},h.prototype.extendSelectionRange=function(e){var t=this.props,n=t.itemIds,l=t.selection,i=t.tilesPerRow,a=l.anchor||n[0];if(a){var o=n.indexOf(l.selected.last()),s=l.selected.toArray(),c=n.indexOf(a),d=this.getRangeOfSelectedBlock(a);s=r(e,o,i,c,d.startIndex,d.endIndex,s,n),this.setState({focusedFileId:s[s.length-1]}),this.updateSelection(s),this.handleTabbingStart()}},h.prototype.getRangeOfSelectedBlock=function(e){for(var t=this.props,n=t.itemIds,l=t.selection,i=n.indexOf(e),a=0,o=0;a=i,i--,!(i<0)&&l.selected.has(n[i]););for(i=a;;){var s=n[i];if(!s||!l.selected.has(s))break;o=i,i++}return{startIndex:a,endIndex:o}},h.prototype.extendOrShrinkSelectionByFile=function(e){var t=this.props,n=t.itemIds,l=t.selection,i=l.anchor||n[0];if(i){var a=n.indexOf(i),o=n.indexOf(e),s=this.getRangeOfSelectedBlock(i),c=s.startIndex,r=s.endIndex;if(o!==r){var d=[],u=[];n.forEach(function(e,t){c<=t&&t<=r&&d.push(e),(o<=t&&t<=a||a<=t&&t<=o)&&u.push(e)}),o<a&&u.reverse();var h=l.update("selected",function(e){return e.subtract(d).union(u)});this.setState({focusedFileId:e}),this.props.onSelectionChange(h),this.handleTabbingStart()}}},h.prototype.updateSelectionById=function(e,t){var n=this.props.selection,l=n.selected[t](e),i=n.merge({selected:l,anchor:l.first()||null});this.props.onSelectionChange(i)},h.prototype.isGlobalEvent=function(e){var t=e.target instanceof HTMLInputElement,n=t&&"checkbox"===e.target.type;return!document.activeElement||document.activeElement===document.body||e.target instanceof Element&&(o.findDOMNode(this).contains(e.target)&&(!t||n))},h.prototype.render=function(){var e=this.props.children,n=this.state.focusedFileId;if(!e)return null;var l=e;return"function"==typeof e&&(l=e({focusedFileId:n,handleDeselect:this.handleDeselect,handleDeselectAll:this.handleDeselectAll,handleFocusFile:this.handleFocusFile,handleSelect:this.handleSelect,handleSelectAll:this.handleSelectAll,isSelectableListEvent:this.isSelectableListEvent})),this.state.keyScope===t.SELECTABLE_LIST_KEY_SCOPE?a.createElement("div",{onBlur:this.handleBlur,onFocus:this.handleFocus},l):a.createElement("div",null,l)},h})(a.PureComponent);t.SelectableList=h}),define("spectrum/media_table_skeleton",["require","exports","tslib","spectrum/media_table_skeleton/media_icon","spectrum/media_table_skeleton/media_table_skeleton","spectrum/media_table_skeleton/media_table_skeleton_row"],function(e,t,n,l,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.__exportStar(l,t),n.__exportStar(i,t),n.__exportStar(a,t)}),define("spectrum/media_table_skeleton/media_icon",["require","exports","tslib","react"],function(e,t,n,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),l=n.__importStar(l),t.MediaIcon=function(){return l.createElement("svg",{width:"24",height:"29",viewBox:"0 0 24 29"},l.createElement("g",{fill:"none"},l.createElement("polyline",{points:"0 0 16 0 16 8 24 8 24 29 0 29",fill:"#F7F8F9"}),l.createElement("polygon",{points:"16 0 24 8 16 8",fill:"#EFF1F3"})))},t.MediaIcon.displayName="MediaIcon"}),define("spectrum/media_table_skeleton/media_table_skeleton",["require","exports","tslib","classnames","react","spectrum/media_table_skeleton/media_table_skeleton_row"],function(e,t,n,l,i,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),l=n.__importDefault(l),i=n.__importStar(i),t.MediaTableSkeleton=function(e){for(var t=e.numRows,n=e.className,o=[],s=0;s<t;s++)o.push(i.createElement(a.MediaTableSkeletonRow,{key:s}));var c=l.default("media-table-skeleton",n);return i.createElement("table",{className:c},i.createElement("thead",{className:"media-table-skeleton-head"},i.createElement("tr",{className:"media-table-skeleton-head-row"},i.createElement("th",{className:"media-table-skeleton-head-cell"},i.createElement("div",{className:"media-table-skeleton-placeholder-head"})))),i.createElement("tbody",{className:"media-table-skeleton-body"},o))},t.MediaTableSkeleton.displayName="MediaTableSkeleton"}),define("spectrum/media_table_skeleton/media_table_skeleton_row",["require","exports","tslib","react","spectrum/media_table_skeleton/media_icon"],function(e,t,n,l,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),l=n.__importStar(l),t.MediaTableSkeletonRow=function(){return l.createElement("tr",{className:"media-table-skeleton-row"},l.createElement("td",{className:"media-table-skeleton-cell-content"},l.createElement("div",{className:"media-table-skeleton-icon"},l.createElement(i.MediaIcon,null)),l.createElement("div",{className:"media-table-skeleton-placeholder-content"})),l.createElement("td",{className:"media-table-skeleton-cell-detail"},l.createElement("div",{className:"media-table-skeleton-placeholder-detail"})))},t.MediaTableSkeletonRow.displayName="MediaTableSkeletonRow"});
//# sourceMappingURL=pkg-selectable-list.min.js-vflgxcMV-.map