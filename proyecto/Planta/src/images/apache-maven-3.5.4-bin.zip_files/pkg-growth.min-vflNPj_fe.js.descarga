define("modules/clean/growth/gating",["require","exports","tslib","modules/clean/ajax"],function(t,e,n,r){"use strict";function i(t,e,i){return void 0===i&&(i={}),Promise.resolve().then(function(){return r.SilentBackgroundRequest(n.__assign({url:"/growth/gating_check",subject_user:t.id,data:{experiment:e}},i))}).then(function(t){return JSON.parse(t)})}function o(t,e,n){return void 0===n&&(n={}),c(t,e,n,!0)}function c(t,n,r,o){return void 0===r&&(r={}),void 0===o&&(o=!1),o?e.gatingCache.has(t.id,n)?e.gatingCache.get(t.id,n):e.gatingCache.set(t.id,n,i(t,n,r)):i(t,n,r)}function a(t,n,r){return void 0===r&&(r={}),"personal"!==t.role||t.paid?Promise.resolve(e.inactiveGatingStatus):c(t,n,r)}Object.defineProperty(e,"__esModule",{value:!0});(function(t){t.BASIC="BASIC",t.PLUS="PLUS",t.PRO="PRO"})(e.GatingSku||(e.GatingSku={})),e.inactiveGatingStatus={is_active:!1,variant:"OFF"};var s=(function(){function t(){this.cache={}}return t.prototype.clear=function(){this.cache={}},t.prototype.has=function(t,e){return!!this.get(t,e)},t.prototype.get=function(t,e){return this.cache[t]&&this.cache[t][e]},t.prototype.set=function(t,e,n){return this.cache[t]=this.cache[t]||{},this.cache[t][e]=n,n},t})();e.gatingCache=new s,e.gatingRequest=i,e.growthPrecacheGating=o,e.growthCheckGating=c,e.growthCheckBasicUserGating=a}),define("modules/clean/growth/user_action/tracker",["require","exports","tslib","react","hoist-non-react-statics","modules/clean/api_v2/client"],function(t,e,n,r,i,o){"use strict";function c(t,e){return function(o){var c=(function(i){function c(e){var n=i.call(this,e)||this;return n.tracker=new a(n.props.user.id,{project:t}),n.track=n.tracker.track.bind(n.tracker),n}return n.__extends(c,i),c.prototype.componentDidMount=function(){e&&e.mount&&this.tracker.track(e.mount)},c.prototype.componentWillUnmount=function(){e&&e.unmount&&this.tracker.track(e.unmount)},c.prototype.render=function(){return r.createElement(o,n.__assign({track:this.track},this.props))},c.displayName="WithGrowthTracking("+(o.displayName||"Component"),c})(r.Component);return i.default(c,o)}}Object.defineProperty(e,"__esModule",{value:!0}),r=n.__importStar(r),i=n.__importDefault(i);var a=(function(){function t(t,e){this.userId=t,this.timers={},e&&e.project&&(this.project=e.project),this.client=(new o.ApiV2Client).ns("growth")}return t.prototype.startTimer=function(t){this.timers[t]={start:Date.now(),end:0}},t.prototype.stopTimer=function(t){this.timers[t]&&!this.timers[t].end&&(this.timers[t].end=Date.now())},t.prototype.clearTimer=function(t){delete this.timers[t]},t.prototype.getDuration=function(t){return this.timers[t]?this.timers[t].end?this.timers[t].end-this.timers[t].start:Date.now()-this.timers[t].start:0},t.prototype.track=function(t,e){return void 0===e&&(e={}),this.client.rpc("track_user_action",{project:this.project,action:t,duration:this.getDuration(t),extra:JSON.stringify(e.extra||{}),endpoint:e.endpoint||void 0},{subjectUserId:this.userId})},t})();e.GrowthUserActionTracker=a,e.withGrowthTracking=c});
//# sourceMappingURL=pkg-growth.min.js-vflurIY3M.map