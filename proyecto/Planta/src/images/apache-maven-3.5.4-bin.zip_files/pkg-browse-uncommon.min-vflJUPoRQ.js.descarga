define("modules/clean/avatar/list",["require","exports","tslib","external/classnames","external/react","external/react-dom-factories","external/prop-types","modules/clean/avatar/overflow_count_pill","modules/clean/avatar/size","modules/clean/react/css"],function(e,t,n,r,i,a,o,s,l,u){"use strict";r=n.__importDefault(r),i=n.__importStar(i),a=n.__importStar(a),o=n.__importStar(o),s=n.__importDefault(s);var c=i.createElement,d=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._defaultRenderOverflowCount=function(e){var n=e.overflowCount;return c(s.default,{count:n,dimension:t.props.avatarDimension,key:"overflow_pill:"+n,onClick:t.props.onOverflowCountClick})},t.getClassName=function(){return r.default(["horizontal-avatar-list",t.props.className,t.props.animation?["animation","is-animated"]:null])},t}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.avatars,t=this.props.maxVisible,n=0;if(this.props.undisplayableCount&&(n+=this.props.undisplayableCount),(this.props.undisplayableCount||e.length>t)&&(t--,n+=e.length-t,e=e.slice(0,t)),n){var i=null!=this.props.overflowCountRenderer?this.props.overflowCountRenderer:this._defaultRenderOverflowCount;e.push(i({overflowCount:n,avatarArgs:{avatarDimension:this.props.avatarDimension,onAvatarClick:this.props.onOverflowCountClick,titleButtonDirection:"south"}}))}return a.div({className:r.default({"c-facepile":!0})},[a.div({className:this.getClassName(),key:"facepile"},e)])},t.displayName="HorizontalAvatarList",t.propTypes={avatars:o.array.isRequired,avatarDimension:o.oneOf(l.VALID_AVATAR_DIMENSIONS).isRequired,maxVisible:o.number.isRequired,undisplayableCount:o.number.isRequired,onOverflowCountClick:o.func,overflowCountRenderer:o.func,animation:o.bool,className:o.string},t.defaultProps={className:""},t})(i.Component);return u.requireCssWithComponent(d,["/static/css/avatar_list-vflqHc0nR.css"])}),define("modules/clean/avatar/shared_link_avatar",["require","exports","tslib","external/react","external/react-dom-factories","external/prop-types","modules/clean/avatar/size","modules/clean/avatar/style","modules/clean/css","modules/clean/static_urls","modules/core/i18n"],function(e,t,n,r,i,a,o,s,l,u,c){"use strict";return r=n.__importStar(r),i=n.__importStar(i),a=n.__importStar(a),l=n.__importStar(l),(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.componentDidMount=function(){return l.require_css("/static/css/scooter/scooter-scoped-vflrM1SRf.css")},t.prototype.render=function(){var e=i.img({src:u.static_url("/static/images/avatar/shared-link-icon-vflHCU_m6.svg"),alt:this.props.alt||c._("Shared link"),width:12,className:"u-mar-horizontal-xs"}),t=["c-avatar--meta"];null!=this.props.optionalClass&&t.push(this.props.optionalClass),null!=this.props.onClick&&t.push("u-unbutton");var n=s.getClassName(this.props.dimension,t);return null!=this.props.onClick?i.button({className:n,onClick:this.props.onClick},e):i.div({className:n,onClick:this.props.onClick},e)},t.displayName="SharedLinkAvatar",t.propTypes={alt:a.string,dimension:a.oneOf(o.VALID_AVATAR_DIMENSIONS).isRequired,onClick:a.func,optionalClass:a.string},t})(r.Component)}),define("modules/clean/base64",["require","exports"],function(e,t){"use strict";function n(e){var t=[],n=0,r=0,i=0,a=0,o=0;for(e+="";n<e.length;)i=e.charCodeAt(n),i<128?(t[r++]=String.fromCharCode(i),n++):i>191&&i<224?(a=e.charCodeAt(n+1),t[r++]=String.fromCharCode((31&i)<<6|63&a),n+=2):(a=e.charCodeAt(n+1),o=e.charCodeAt(n+2),t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o),n+=3);return t.join("")}function r(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n=void 0,r=void 0,i=void 0,a=void 0,o=void 0,s=void 0,l=void 0,u=void 0,c=0,d=0,_="",m=[];if(!e)return e;for(;;)if(n=e.charCodeAt(c++),r=e.charCodeAt(c++),i=e.charCodeAt(c++),u=n<<16|r<<8|i,a=u>>18&63,o=u>>12&63,s=u>>6&63,l=63&u,m[d++]=t.charAt(a)+t.charAt(o)+t.charAt(s)+t.charAt(l),!(c<e.length))break;_=m.join("");var p=e.length%3;return(p?_.slice(0,p-3):_)+"===".slice(p||3)}function i(e,t){var r=function(e){return e},i=t?r:n;if("function"==typeof window.atob)return i(window.atob(e));var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=0,s=0,l=[];if(!e)return e;for(e+="";;){var u=a.indexOf(e.charAt(o++)),c=a.indexOf(e.charAt(o++)),d=a.indexOf(e.charAt(o++)),_=a.indexOf(e.charAt(o++)),m=u<<18|c<<12|d<<6|_,p=m>>16&255,g=m>>8&255,f=255&m;if(l[s++]=64===d?String.fromCharCode(p):64===_?String.fromCharCode(p,g):String.fromCharCode(p,g,f),!(o<e.length))break}var v=l.join("");return v=i(v)}Object.defineProperty(t,"__esModule",{value:!0}),t.encode=r,t.decode=i}),define("modules/clean/illustration_helper",["require","exports","modules/clean/static_urls"],function(e,t,n){"use strict";function r(e){return n.static_url("/static/images/empty_states/"+e+".png")}Object.defineProperty(t,"__esModule",{value:!0}),t.empty_state_url=r}),define("modules/clean/react/browse/action_logger",["require","exports","tslib","modules/clean/analytics","modules/clean/filepath","modules/clean/react/browse/logger_util","modules/clean/search/search_bar/data/store","modules/clean/search/search_bar/data/selectors","modules/clean/web_user_action_events","modules/clean/analytics","modules/clean/logging/hive/schemas/web-user-action","modules/clean/logging/telemetry"],function(e,t,n,r,i,a,o,s,l,u,c,d){"use strict";function _(e,r,o,s,l,u,d){var _={num_files_selected:s,num_folders_selected:l,source:r,view_type:u};if(a.isFile(d)){var m=d,p=m.request_id,g=m.ns_id,f=m.sjid,v=m.file_id,h=m.fq_path,E=m.bytes,b=m.ext;_=n.__assign({},_,{request_id:p,file_nsid:g,file_sjid:f,file_id:v,file_name:i.filename(h),file_path:h,file_size:E,file_extension:b})}else if(a.isPaper(d)){var m=d,p=m.request_id;_=n.__assign({},_,{request_id:p})}t.hiveLogger.log(new c.WebUserActionRow({user_id:e,event_name:o,source:r,view_type:u,request_id:_.request_id,file_nsid:_.file_nsid,file_sjid:_.file_sjid,file_id:_.file_id,file_name:_.file_name,file_path:_.file_path,file_size:_.file_size,file_extension:_.file_extension,extra:{num_files_selected:_.num_files_selected?_.num_files_selected.toString():null,num_folders_selected:_.num_folders_selected?_.num_folders_selected.toString():null}}))}function m(e){var n=e.uid,r=e.entity_type,i=e.view_type,a=e.file_nsid,o=e.file_sjid,s=e.file_id,u=e.file_name,d=e.file_path,_=e.file_size,m=e.file_extension,p=e.request_id;t.hiveLogger.log(new c.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.SELECT_ROW,view_type:i,file_nsid:a,file_sjid:o,file_id:s,file_name:u,file_path:d,file_size:_,file_extension:m,request_id:p,extra:{entity_type:r}}))}function p(e){var n=e.uid,r=e.entity_type,i=e.source,a=e.view_type,o=e.file_nsid,s=e.file_sjid,u=e.file_id,d=e.file_name,_=e.file_path,m=e.file_size,p=e.file_extension,g=e.request_id;t.hiveLogger.log(new c.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.OPEN_ROW,source:i,view_type:a,file_nsid:o,file_sjid:s,file_id:u,file_name:d,file_path:_,file_size:m,file_extension:p,request_id:g,extra:{entity_type:r}}))}function g(e){var n=e.uid,r=e.view_type;e.file_nsid,e.file_path,e.file_name;t.hiveLogger.log(new c.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.CREATE_FOLDER,view_type:r}))}function f(e){var n=e.uid,r=e.modal_session_id,i=e.file_nsid,a=e.file_sjid,o=e.file_id,s=e.file_name,u=e.file_path;t.hiveLogger.log(new c.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.VIEW_SHARE_MODEL,file_nsid:i,file_sjid:a,file_id:o,file_name:s,file_path:u,extra:{modal_session_id:r}}))}function v(e){var n=e.uid,r=e.show_deleted_files,i=e.view_type;t.hiveLogger.log(new c.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.TOGGLE_DELETED_FILES,view_type:i,extra:{show_deleted_files:r.toString()}}))}function h(e){var n=e.uid,r=e.sort_by,i=e.sort_direction,a=e.view_type;t.hiveLogger.log(new c.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.SORT_RECORDS,view_type:a,extra:{sort_by:r,sort_direction:i}}))}function E(e){var n=e.uid,r=e.isSearchMode,i=e.viewType;t.hiveLogger.log(new c.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.SWITCH_VIEW_TYPE,view_type:i})),r&&u.SearchClientActivityLogger.log("switch_view_type",n,{search_session_id:s.searchSessionId(o.getStoreForSearchBar().getState()),view_type:i})}function b(e){var n=e.uid,r=e.source,i=e.view_type,a=e.file_nsid,o=e.file_path,s=e.file_name,u=e.num_files_selected,d=e.num_folders_selected;t.hiveLogger.log(new c.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.RESTORE,source:r,view_type:i,file_nsid:a,file_path:o,file_name:s,extra:{num_files_selected:u?u.toString():null,num_folders_selected:d?d.toString():null}}))}function D(e){var n=e.uid,r=e.event_name,i=e.selectedPath;t.hiveLogger.log(new c.WebUserActionRow({user_id:n,event_name:r,extra:i?{selectedPath:i}:{}}))}function C(e){var t=e.error_message,n=e.event_name,i=e.team_id,a=e.url;r.TeamsWebActionsLogger.log(n,{team_id:i,url:a,error_message:t})}function w(e){var t=e.uid,n=e.source,r=e.view_type,i=e.result,a=e.num_files_selected,o=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.MOVE,a,o,r,i)}function S(e){var t=e.uid,n=e.source,r=e.view_type,i=e.result,a=e.num_files_selected,o=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.OPEN_ADD_TO_COLLECTION_MODAL,a,o,r,i)}function A(e){var t=e.uid,n=e.source,r=e.view_type,i=e.result,a=e.num_files_selected,o=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.COPY,a,o,r,i)}function O(e){var t=e.uid,n=e.source,r=e.view_type,i=e.num_files_selected,a=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.VERSIONS,i,a,r)}function L(e){var t=e.uid,n=e.source,r=e.view_type,i=e.num_files_selected,a=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.OPEN_MOVE_MODAL,i,a,r)}function I(e){var t=e.uid,n=e.source,r=e.view_type,i=e.num_files_selected,a=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.RENAME,i,a,r)}function y(e){var t=e.uid,n=e.source,r=e.view_type,i=e.num_files_selected,a=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.ADD_COMMENT,i,a,r)}function N(e){var t=e.uid,n=e.source,r=e.view_type,i=e.num_files_selected,a=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.DOWNLOAD,i,a,r)}function T(e){var t=e.uid,n=e.source,r=e.view_type,i=e.num_files_selected,a=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.OPEN_COPY_MODAL,i,a,r)}function P(e){var t=e.uid,n=e.source,r=e.view_type,i=e.num_files_selected,a=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.DELETE,i,a,r)}function M(e){var t=e.uid,n=e.source,r=e.view_type,i=e.num_files_selected,a=e.num_folders_selected;_(t,n,l.WebUserActionLogEvent.PERMANENT_DELETE,i,a,r)}function R(e){var n=e.uid,r=e.file_name,i=e.upload_id,a=e.all_fsw_ids,o=e.filtered_fsw_ids;t.hiveLogger.log(new c.WebUserActionRow({user_id:n,event_name:l.WebUserActionLogEvent.FILE_UPLOAD_FSW_RETURNED,file_name:r,upload_id:i,all_fsw_ids:a,filtered_fsw_ids:o}))}function x(e){var n=e.uid,r=e.source,i=e.action,a=e.depth_folder_selected;t.hiveLogger.log(new c.WebUserActionRow({user_id:n,source:r,event_name:i,extra:{depth_folder_selected:a?a.toString():null}}))}Object.defineProperty(t,"__esModule",{value:!0}),i=n.__importStar(i),s=n.__importStar(s),d=n.__importStar(d);(function(e){e.MAESTRO_RIGHT_SIDEBAR="MAESTRO_RIGHT_SIDEBAR",e.MAESTRO_PHOTOS_RIGHT_SIDEBAR="MAESTRO_PHOTOS_RIGHT_SIDEBAR",e.LEGACY_HEADER_ACTIONS="LEGACY_HEADER_ACTIONS",e.DRAG="DRAG"})(t.BrowseLogEventSource||(t.BrowseLogEventSource={})),t.hiveLogger=new d.HiveLogger,t.logBrowseAction=_,t.logSelectRow=m,t.logOpenRow=p,t.logCreateFolder=g,t.logViewShareModel=f,t.logToggleDeletedFiles=v,t.logSortRecords=h,t.logSwitchViewType=E,t.logRestore=b,t.logFileOperationModalClick=D,t.logOpenLocalCopyAction=C,t.logMoveFiles=w,t.logOpenAddToCollectionModal=S,t.logCopyFiles=A,t.logVersions=O,t.logOpenMoveModal=L,t.logRenameFiles=I,t.logAddComment=y,t.logDownload=N,t.logOpenCopyModal=T,t.logDeleteFiles=P,t.logPermanentDeleteFiles=M,t.logFileUploadFSWReturned=R,t.logFileCreateClick=x}),define("modules/clean/react/folder_dialog/constants",["require","exports","modules/core/i18n"],function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_SCOPE="folder_picker_keyboard_selection",t.INVALID_FOCUS_INDEX=-1,t.MAX_FOLDER_NAME_LENGTH=20,t.TEAM_MEMBER="team_member";(function(e){e[e.ACCESS=0]="ACCESS",e.LIMITED_ACCESS="locked",e.NO_ACCESS="no_access"})(t.ACCESS_LEVEL||(t.ACCESS_LEVEL={}));(function(e){e[e.COPY=0]="COPY",e[e.MOVE=1]="MOVE",e[e.UPLOAD=2]="UPLOAD"})(t.Operation||(t.Operation={}));(function(e){e[e.LOADING=0]="LOADING",e[e.ERROR=1]="ERROR",e[e.LOADED=2]="LOADED"})(t.FolderPickerLoadingState||(t.FolderPickerLoadingState={})),t.errorDialogProps={primaryAction:n._("Try again"),secondaryAction:n._("Cancel"),title:n._("Something went wrong on our end"),ariaLabel:"",open:!0,variant:"regular"},t.DIALOG_HEAD_HEIGHT=64,t.DIALOG_ACTIONS_HEIGHT=64,t.PATH_BREADCRUMB_HEIGHT=40,t.DIALOG_BODY_PADDING=26,t.LOADING_MIN_TIME=200,t.FOLDER_SUGGESTION_HEIGHT=89}),define("modules/clean/react/path_breadcrumbs",["require","exports","tslib","external/classnames","external/react","spectrum/icon_arrow","spectrum/icon_content","spectrum/popover","modules/clean/em_string","modules/clean/filepath","modules/core/i18n","modules/clean/user_education/react/user_education_effect","modules/clean/user_education/user_education_client","modules/clean/react/icon/icon_helper","modules/clean/react/title_bubble","modules/clean/react/search_success_banner/util"],function(e,t,n,r,i,a,o,s,l,u,c,d,_,m,p,g){"use strict";function f(e,t){return 20-(t?2.625:new l.Emstring(e).length)}function v(e,t,n,r){for(var i=e.split("/").filter(Boolean),a=[{path:"",icon:"folder_dropbox-small",folderName:t,alt:n}],o=m.spectrumFolderIcon({size:m.SpectrumIconSize.Small}),s=0;s<i.length;s++)e="/"+i.slice(0,s+1).join("/"),a.push({path:e,folderName:u.filename(e),icon:o,alt:c._("Folder")});if(a.length<3)return{dropdownCrumbs:[],inlineCrumbs:a,root:a[0]};for(var d=a[0]&&a[0].folderName||"",_=f(d,!1),p=a.map(function(e){return new l.Emstring(e.folderName||"").length}),g=1,v=p[a.length-1],s=a.length-2;s>=1&&(v+=1.64,v+=p[s],!(v>_));s--)g+=1;a.length===g+1&&(g+=1),1===g&&r===E.SMALL&&g++;var h=a.length-g;return{dropdownCrumbs:a.slice(0,h),inlineCrumbs:a.slice(h),root:a[0]}}function h(e){switch(e){case E.LARGE:return"right";case E.SMALL:return"right-small"}}Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importDefault(r),i=n.__importStar(i),u=n.__importStar(u);t.generateBreadcrumbData=v;var E;(function(e){e.LARGE="LARGE",e.SMALL="SMALL"})(E=t.PathBreadcrumbsSize||(t.PathBreadcrumbsSize={}));var b=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n.__extends(t,e),t.prototype.render=function(){var e=this.props.path,t=this.props,a=t.firstBreadcrumbName,o=t.firstBreadcrumbAlt,s=t.isDraggingInternalFiles,l=t.shouldHighlightDropTargets,_=t.setFileUploaderPath,m=t.getUrlForPath,p=t.setUrl,g=t.size,h=t.disableDragging,b=v(e,a,o,g),C=b.dropdownCrumbs,S=b.inlineCrumbs,A=b.root,O=f(A&&A.folderName||"",C.length>0),L=r.default({"brws-path-breadrumbs":!0,"brws-path-breadrumbs--small":this.props.size===E.SMALL}),I="page-header-text u-l-fl";return S.length>1||C.length>0?i.createElement("span",{className:L},i.createElement("h1",{className:"ax-visually-hidden"},u.filename(e)),i.createElement("nav",{className:I,id:"path-breadcrumbs","aria-label":c._("Folder hierarchy"),role:"navigation"},C.length>0&&i.createElement(w,{crumbs:C,currentPath:e,isDraggingInternalFiles:s,shouldHighlightDropTargets:l,setFileUploaderPath:_,setUrl:p,size:g,disableDragging:h}),S.map(function(t,r){return i.createElement(D,n.__assign({},t,{key:encodeURI(t.path),isOnlyCrumb:0===r&&1===S.length&&0===C.length,index:r,isLastCrumb:r===S.length-1,maxWidth:O,currentPath:e,isDraggingInternalFiles:s,isHighlightedDropTarget:l,setFileUploaderPath:_,getUrlForPath:m,setUrl:p,size:g,disableDragging:h}))}))):i.createElement("span",{className:L},i.createElement("h1",{className:I},i.createElement(d.UserEducationEffect,{containerName:"PathBreadcrumbs",name:"HomeTitle",useSpan:!0},a)))},t.defaultProps={path:"/",isDraggingInternalFiles:!1,shouldHighlightDropTargets:!1,setFileUploaderPath:function(){},size:E.LARGE,disableDragging:!1},t})(i.PureComponent);t.PathBreadcrumbs=b;var D=(function(e){function t(t){var n=e.call(this,t)||this;return n.onDragEnterBreadcrumb=function(e){e.preventDefault(),e.target!==n.lastEnteredElement&&(n.props.disableDragging||(n.lastEnteredElement=e.target,n.dragEnterCount+=1,n.setState({isDraggedOver:!0}),n.props.isLastCrumb||n.props.setFileUploaderPath({path:n.props.path})))},n.onDragLeaveBreadcrumb=function(e){e.preventDefault(),n.props.disableDragging||(n.lastEnteredElement=null,n.dragEnterCount-=1,n.dragEnterCount<1&&(n.dragEnterCount=0,n.state.isDraggedOver&&(n.props.setFileUploaderPath({path:n.props.currentPath}),n.setState({isDraggedOver:!1}))))},n.onDropBreadcrumb=function(){n.setState({isDraggedOver:!1})},n.onDragOverBreadcrumb=function(e){e.preventDefault(),e.stopPropagation()},n.handleMouseEnter=function(){n.props.isDraggingInternalFiles&&n.setState({isDraggedOver:!0})},n.handleMouseLeave=function(){n.state.isDraggedOver&&n.setState({isDraggedOver:!1})},n.handleMouseUp=function(){n.state.isDraggedOver&&n.setState({isDraggedOver:!1})},n.navigateToFolder=function(e){g.resetSearchSuccessBannerSettings();var t=n.props.path;_.UEClient.sendEvent("BreadCrumbSegment","linkClicked",{path:t}),e.preventDefault(),n.props.setUrl({path:t})},n.eventHandlers={onDragEnter:n.onDragEnterBreadcrumb,onDragLeave:n.onDragLeaveBreadcrumb,onDrop:n.onDropBreadcrumb,onDragOver:n.onDragOverBreadcrumb,onMouseEnter:n.handleMouseEnter,onMouseLeave:n.handleMouseLeave,onMouseUp:n.handleMouseUp},n.state={isDraggedOver:!1},n}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.dragEnterCount=0,this.lastEnteredElement=null},t.prototype.render=function(){var e,t=this.props,o=t.getUrlForPath,s=t.path,u=t.index,c=t.isOnlyCrumb,_=t.maxWidth,m=t.isLastCrumb,g=t.isHighlightedDropTarget,f=t.size,v=c?this.props.folderName:l.Emstring.em_snippet(this.props.folderName,_),E={"breadcrumb-segment":!0,"breadcrumb-segment--is-drop-target":!m&&g,"breadcrumb-segment--file-dragged-over":!m&&this.state.isDraggedOver},b=h(f);return e=m?i.createElement("span",n.__assign({},this.eventHandlers),v):i.createElement("span",n.__assign({className:"breadcrumb-segment__wrapper"},this.eventHandlers),i.createElement(d.UserEducationEffect,{containerName:"BreadCrumbSegment",name:"link-"+u,useSpan:!0},i.createElement("a",{href:o(s).toString(),onClick:this.navigateToFolder,className:r.default(E)},v)),i.createElement(a.IconArrow,{name:b})),this.props.folderName!==v?i.createElement(p.TitleBubble,{content:this.props.folderName,position:p.TitleBubble.POSITIONS.BOTTOM,className:"list-label__title-bubble"},e):e},t.defaultProps={isOnlyCrumb:!1,isDraggingInternalFiles:!1,isHighlightedDropTarget:!1,disableDragging:!1},t})(i.Component),C=(function(e){function t(t){var n=e.call(this,t)||this;return n.onDragEnter=function(e){e.preventDefault(),e.target!==n.lastEnteredElement&&(n.props.disableDragging||(n.lastEnteredElement=e.target,n.dragEnterCount+=1,n.setState({isDraggedOver:!0}),n.props.setFileUploaderPath({path:n.props.path})))},n.onDragLeave=function(e){e.preventDefault(),n.props.disableDragging||(n.lastEnteredElement=null,n.dragEnterCount-=1,n.dragEnterCount<1&&(n.dragEnterCount=0,n.state.isDraggedOver&&(n.props.setFileUploaderPath({path:n.props.currentPath}),n.setState({isDraggedOver:!1}))))},n.onDrop=function(e){n.setState({isDraggedOver:!1}),n.dragEnterCount=0,n.props.closeFunc()},n.onDragOver=function(e){e.preventDefault(),e.stopPropagation()},n.handleMouseEnter=function(){n.props.isDraggingInternalFiles&&n.setState({isDraggedOver:!0})},n.handleMouseLeave=function(){n.state.isDraggedOver&&(n.setState({isDraggedOver:!1}),n.props.closeFunc())},n.handleMouseUp=function(){n.state.isDraggedOver&&n.setState({isDraggedOver:!1}),n.props.isDraggingInternalFiles&&!n.props.isLastCrumb&&n.props.closeFunc()},n.state={isDraggedOver:!1},n}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.dragEnterCount=0,this.lastEnteredElement=null},t.prototype.render=function(){var e=this.props,t=e.icon,a=e.alt,l=e.folderName,u={"breadcrumb-menu-item":!0,"breadcrumb-menu-item--is-drop-target":this.props.isHighlightedDropTarget,"breadcrumb-menu-item--file-dragged-over":this.state.isDraggedOver},c=i.createElement("span",{title:l,className:"breadcrumb-menu-item-wrapper"},i.createElement("span",{className:"breadcrumb-menu-item-icon"},i.createElement(o.IconContent,{name:t,"aria-label":a,role:"img"})),i.createElement("span",{className:"breadcrumb-menu-item-text"},l));return i.createElement(s.PopoverContentItem,n.__assign({value:this.props.path,className:r.default(u)},{onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDrop:this.onDrop,onDragOver:this.onDragOver,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:this.handleMouseUp}),c)},t.defaultProps={isHighlightedDropTarget:!1,closeFunc:function(){},alt:"",isDraggingInternalFiles:!1,disableDragging:!1},t})(i.Component),w=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={menuVisible:!1},t.onDragEnter=function(e){t.props.disableDragging||(e.preventDefault(),t.setState({menuVisible:!0}))},t.onInnerDragEnter=function(e){e.preventDefault(),t.dragEnterCount++},t.onDragLeave=function(e){e.preventDefault(),t.dragEnterCount--,t.dragEnterCount<1&&(t.dragEnterCount=0,t.state.menuVisible&&t.setState({menuVisible:!1}))},t.onMouseEnter=function(e){t.props.disableDragging||t.props.isDraggingInternalFiles&&!t.props.disableDragging&&(e.preventDefault(),t.setState({menuVisible:!0}))},t.onCrumbSelected=function(e){t.props.setUrl({path:e})},t.onPopoverToggle=function(e){var n=e.isOpen;t.setState({menuVisible:n})},t.onClose=function(){t.dragEnterCount=0,t.onPopoverToggle({isOpen:!1})},t}return n.__extends(t,e),t.prototype.componentDidMount=function(){this.dragEnterCount=0},t.prototype.render=function(){var e=this,t=this.props.crumbs.slice().reverse(),n=this.props,r=n.currentPath,l=n.shouldHighlightDropTargets,u=n.isDraggingInternalFiles,d=n.setFileUploaderPath,_=n.size,m=n.disableDragging,p=c._("Show parent folders (descending)"),g=i.createElement(o.IconContent,{name:"folder_dropdown-small","aria-label":p,role:"img",className:"breadcrumb-menu-icon"}),f=h(_);return i.createElement(s.Popover,{onSelection:this.onCrumbSelected,onMenuToggle:this.onPopoverToggle,className:"breadcrumb-dropdown-container"},i.createElement(s.PopoverTrigger,{onDragOver:this.onDragEnter,onMouseEnter:this.onMouseEnter},i.createElement("span",{className:"u-unbutton breadcrumb-overflow-button u-l-fl"},g)),i.createElement(s.PopoverContent,{isRevealed:this.state.menuVisible,onDragEnter:this.onInnerDragEnter,onDragLeave:this.onDragLeave},t.map(function(t){return i.createElement(C,{key:encodeURI(t.path),path:t.path,icon:t.icon,alt:t.alt,folderName:t.folderName,currentPath:r,isHighlightedDropTarget:l,isDraggingInternalFiles:u,setFileUploaderPath:d,closeFunc:e.onClose,disableDragging:m})})),i.createElement(a.IconArrow,{name:f,className:"breadcrumb__spacer"}))},t.defaultProps={shouldHighlightDropTargets:!1,isDraggingInternalFiles:!1,disableDragging:!1},t})(i.Component)}),define("modules/clean/react/path_filter_button",["require","exports","tslib","external/react","spectrum/dropdown_button","modules/clean/react/title_bubble","modules/clean/em_string","modules/clean/filepath"],function(e,t,n,r,i,a,o,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importStar(r),s=n.__importStar(s),t.PathFilterButton=function(e){var t=e.path,n=e.defaultText,l=e.dropdownClasses,u=e.disabled,c=e.onClick,d=t&&!s.paths_are_equal(t,"/")?o.Emstring.em_snippet(s.filename(t),10,.6):null,_=r.createElement(i.DropdownButton,{className:l,disabled:u,onClick:c},d||n);return d?r.createElement(a.TitleBubble,{content:t,position:a.TitleBubble.POSITIONS.BOTTOM},_):_}}),define("modules/clean/sharing/member_avatars",["require","exports","tslib","external/react","modules/clean/avatar/avatar_with_default","modules/clean/avatar/initials_avatar","modules/clean/avatar/photo_avatar","modules/clean/avatar/shared_link_avatar","modules/clean/avatar/viewer_avatar","modules/clean/avatar/list","modules/clean/components/title_bubble","modules/clean/datetime","modules/clean/em_string","modules/clean/react/tooltip","modules/clean/sharing/constants","modules/clean/sharing/link_description","modules/clean/static_urls","modules/clean/viewer","modules/core/i18n"],function(e,t,n,r,i,a,o,s,l,u,c,d,_,m,p,g,f,v,h){"use strict";function E(e){var t=e.overflowCount,n=e.avatarArgs,i=void 0===n?{}:n,o=h.ungettext("%(count)s more member","%(count)s more members",t).format({count:t}),s=t>=99?"99+":""+t,l=C(i),u=l.avatarDimension,d=l.onAvatarClick,_=l.titleButtonDirection;return r.createElement(c.default,{key:"overflow_count",text:o,direction:_},r.createElement(a.InitialsAvatar,{alt:o,dimension:u,initials:s,color:"#7B8994",shape:"CIRCLE",onClick:d}))}function b(e){if(!e)return!1;var t=v.Viewer.get_viewer();if(t.is_paired){var n=t.get_user_ids(!0),r=e.map(function(e){return e.user_id});if(r.includes(n[0])&&r.includes(n[1]))return!0}return!1}function D(e,t,n){return function(r){e&&e(t,n),r.stopPropagation()}}function C(e){return n.__assign({},M,e)}function w(e){var t,o=e.arePairedUsersInSF,s=e.member,u=e.avatarArgs,d=void 0===u?{}:u,m=s.user_id,g=v.Viewer.get_viewer(),f=g.get_user_ids(!0).includes(m),h="";if(f&&o){var E=s.user_id,b=g.get_user_by_role("personal",!0),w=g.get_user_by_role("work",!0);b&&E===b.id?h="Personal":w&&E===w.id&&null!=g.team_name&&(h=g.team_name)}else h=s.display_name;h=_.Emstring.em_snippet(h,p.SNIPPET_SIZES.DISPLAY_NAME);var S=N(h,s.access_type,f,o),A=C(d),O=A.avatarDimension,L=A.onAvatarClick,I=A.titleButtonDirection,y=D(L,"member",s),T={alt:S,dimension:O,onPhotoClick:y,photoUrl:s.photo_url,defaultAvatar:r.createElement(a.InitialsAvatarWithColorDerivedFromName,{alt:S,dimension:O,name:s.display_name,initials:s.initials.toUpperCase(),shape:"CIRCLE",onClick:y})};return t=f?r.createElement(l.default,n.__assign({},T)):r.createElement(i.default,n.__assign({},T)),r.createElement(c.default,{key:"user:"+s.user_id+":"+s.photo_url,text:S,direction:I},t)}function S(e){var t,n,i=e.group,s=e.avatarArgs,l=void 0===s?{}:s,u=C(l),d=u.avatarDimension,_=u.onAvatarClick,m=u.titleButtonDirection,p=D(_,"group",i);return i.is_automatic?(n=I(i.name,i.access_type),t=r.createElement(o.PhotoAvatar,{alt:n,dimension:d,photoUrl:f.static_url("/static/images/icons/team_32-vflk8mBzO.png"),shape:"SQUARE",onClick:p})):(n=y(i.name,i.access_type,i.num_users),t=r.createElement(a.InitialsAvatarWithColorDerivedFromName,{alt:n,dimension:d,name:i.name,shape:"SQUARE",initials:L(i.name),onClick:p})),r.createElement(c.default,{key:"group:"+i.gid+":"+i.name,text:n,direction:m},t)}function A(e){var t=e.index,n=e.description,i=e.avatarArgs,a=void 0===i?{}:i,o=C(a),s=o.avatarDimension,l=o.onAvatarClick,u=o.titleButtonDirection;return r.createElement(c.default,{key:"placeholder:"+t,text:n,direction:u},r.createElement("button",{className:"u-unbutton c-avatar--m",onClick:l?l:void 0},r.createElement("img",{alt:n,src:f.static_url("/static/images/icons/no_member-vflE0FYQV.svg"),width:s,height:s})))}function O(e){var t=e.invited_member,n=e.avatarArgs,i=void 0===n?{}:n,o=C(i),s=o.avatarDimension,l=o.onAvatarClick,u=o.titleButtonDirection,d=D(l,"invited",t),_=N(t.email_or_fbname,"pending",!1);return r.createElement(c.default,{key:"invitation:"+t.invitation_id,text:_,direction:u},r.createElement(a.InitialsAvatar,{alt:_,dimension:s,color:"#aaa",initials:L(t.email_or_fbname),shape:"CIRCLE",onClick:d}))}function L(e){if(null==e||!(e.length>0))return"";var t=e.split(" "),n=t.map(function(e){return e.charAt(0).toLowerCase()});return n.length>2&&(n=n.splice(0,2)),n.join("")}function I(e,t){return("editor"===t?h._("%(team_group_name)s can edit"):h._("%(team_group_name)s can view")).format({team_group_name:_.Emstring.em_snippet(e,p.SNIPPET_SIZES.DISPLAY_NAME)})}function y(e,t,n){var r;return r="editor"===t?h.ungettext("%(num_users)s person in %(group_name)s can edit","%(num_users)s people in %(group_name)s can edit",n):h.ungettext("%(num_users)s person in %(group_name)s can view","%(num_users)s people in %(group_name)s can view",n),r.format({group_name:_.Emstring.em_snippet(e,p.SNIPPET_SIZES.DISPLAY_NAME),num_users:n})}function N(e,t,n,r){void 0===r&&(r=!1);var i,a={viewer:h._("You can view"),editor:h._("You can edit"),owner:h._("You’re the owner"),team:h._("You’re a member of this team folder"),default:h._("You")},o={viewer:h._("%(name)s can view"),editor:h._("%(name)s can edit"),owner:h._("%(name)s is the owner"),pending:h._("%(name)s hasn’t added this to their Dropbox yet"),team:h._("%(name)s is a member of this team folder"),default:h._("%(name)s"),"no access":h._("No access")},s={viewer:h._("You (%(name)s) can view"),editor:h._("You (%(name)s) can edit"),owner:h._("You (%(name)s) are the owner")};return i=n?r&&null!=e?s:a:o,i.hasOwnProperty(t)?i[t].format({name:_.Emstring.em_snippet(e,p.SNIPPET_SIZES.DISPLAY_NAME)}):""}function T(e,t,n,i,a){void 0===i&&(i=5);var o,s,l=e.length,u=t.length+n.length,c=function(e){return _.Emstring.em_snippet(e,17)};if(u>0){var d=P(t.map(function(e){return c(e.display_name)}).concat(n.map(function(e){return c(e.email_or_fbname)})),i);o=r.createElement(m.Tooltip,{key:"members_text",position:m.TooltipPosition.BOTTOM,tooltip_contents:d.join("\n"),tooltip_classname:a},h.ungettext("%(member_count)s member","%(member_count)s members",u).format({member_count:u}))}if(l>0){var d=P(e.map(function(e){return c(e.name)}),i);s=r.createElement(m.Tooltip,{key:"groups_text",position:m.TooltipPosition.BOTTOM,tooltip_contents:d.join("\n"),tooltip_classname:a},h.ungettext("%(group_count)s group","%(group_count)s groups",l).format({group_count:l}))}return o&&!s?o:s&&!o?s:s&&o?r.createElement("div",null,s,", ",o):void 0}function P(e,t){if(e.length>t){var n=e.slice(0,t-1),r=e.length-(t-1);return n.push(h.ungettext("and %(num)s more…","and %(num)s more…",r,{comment:"Number of additional members. Expected to be >= 2."}).format({num:r})),n}return e}Object.defineProperty(t,"__esModule",{value:!0}),r=n.__importStar(r),i=n.__importDefault(i),s=n.__importDefault(s),l=n.__importDefault(l),u=n.__importDefault(u),c=n.__importDefault(c);t.MemberAvatarsMixin={getInitialState:function(){return{paired_users_in_sf:!1}},componentWillMount:function(){var e=b(this.props.joinedMembers);this.setState({paired_users_in_sf:e})},componentWillReceiveProps:function(e){var t=b(e.joinedMembers);this.setState({paired_users_in_sf:t})},findOwnerAndMeInJoinedMembers:function(e){for(var t=null,n=null,r=0,i=e;r<i.length;r++){var a=i[r];if("owner"===a.access_type&&(t=a),a.user_id===this.props.user.id&&(n=a),t&&n)break}return[t,n]},addGroupsMembersInvitations:function(e,t,n,r,i){var a={avatarDimension:this.props.avatarDimension,onAvatarClick:this.props.onAvatarClick,titleButtonDirection:this.props.titleButtonDirection};null==i&&(i=[]);for(var o=0,s=t;o<s.length;o++){var l=s[o];e.push(S({group:l,avatarArgs:a}))}for(var u=0,c=n;u<c.length;u++){var d=c[u];i.includes(d.user_id)||e.push(w({arePairedUsersInSF:this.state.paired_users_in_sf,member:d,avatarArgs:a}))}for(var _=0,m=r;_<m.length;_++){var p=m[_];e.push(O({invited_member:p,avatarArgs:a}))}},renderAvatarList:function(e,t){return r.createElement(u.default,{avatars:e,avatarDimension:this.props.avatarDimension,maxVisible:this.props.maxVisibleAvatars,undisplayableCount:this.props.numUndisplayableUsersAndInvites||0,onOverflowCountClick:this.props.onOverflowCountClick,overflowCountRenderer:E,animation:this.props.animation,className:t||""})},renderSharedLink:function(e,t){var n,i,a=this,o=this.getDescriptionForSharedLinkInfo(e,t),l=r.createElement(s.default,{alt:o,
dimension:this.props.avatarDimension,onClick:function(t){a.props.onSharedLinkClick(e),t.stopPropagation()}});return(null!=e?e.allow_download:void 0)===!1?(n="sharing-icon-bubble-title u-font-center",i=!0):(n="",i=!1),r.createElement(c.default,{key:"shared_link",text:o,direction:"south",className:n,respectLineBreaks:i},l)},getDescriptionForSharedLinkInfo:function(e,t){var n;if(t)return g.formatSharedContentLinkDescription(t);var r=e.visibility_type,i=e.expires_posix,a=e.shared_folder_link_policy,o="";if(i){var s=(new Date).getTime()/1e3,l=i-s,u=Math.floor(l/86400);if(l<0)return h._("Link Disabled");n=new Date(1e3*i);var c=u>180;n=d.nice_date_with_month_name(n,c,!1,!0)}e.allow_download===!1&&(o=". "+h._("Downloads disabled.",{comment:'This follows a description of link visibility. For example: "Anyone with the link can view this file. Downloads disabled."'}));var _="MEMBERS_ONLY"===a;if(n){if(_)return h._("Folder members with the link can view until %(date)s").format({date:n})+o;if(r===p.SHMODEL_LINK_TOKEN_VISIBILITY.PUBLIC)return h._("People with the link can view until %(date)s").format({date:n})+o;if(r===p.SHMODEL_LINK_TOKEN_VISIBILITY.PASSWORD)return h._("People with the password can view until %(date)s").format({date:n})+o;if(r===p.SHMODEL_LINK_TOKEN_VISIBILITY.TEAM_ONLY)return h._("People at %(team_name)s can view until %(date)s").format({team_name:v.Viewer.get_viewer().team_name,date:n})+o;if(r===p.SHMODEL_LINK_TOKEN_VISIBILITY.ONLY_YOU)return h._("Only you can view until %(date)s").format({date:n})+o}else{if(_)return h._("Folder members with the link can view")+o;if(r===p.SHMODEL_LINK_TOKEN_VISIBILITY.PUBLIC)return h._("People with the link can view")+o;if(r===p.SHMODEL_LINK_TOKEN_VISIBILITY.PASSWORD)return h._("People with the password can view")+o;if(r===p.SHMODEL_LINK_TOKEN_VISIBILITY.TEAM_ONLY)return h._("People at %(team_name)s with the link can view").format({team_name:v.Viewer.get_viewer().team_name})+o;if(r===p.SHMODEL_LINK_TOKEN_VISIBILITY.ONLY_YOU)return h._("Only you can view")+o}throw Error("Unable to construct description!")}},t.renderOverflowCount=E;var M={avatarDimension:32,onAvatarClick:null,titleButtonDirection:"south"};t.renderJoinedMember=w,t.renderGroup=S,t.renderPlaceholderAvatar=A,t.renderInvitedPerson=O,t.buildGroupsAndMembersText=T});
//# sourceMappingURL=pkg-browse-uncommon.min.js-vflE2LrV7.map