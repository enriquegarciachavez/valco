define(["require","exports"],function(t,e){"use strict";function n(t){var e=t.kernel,n=t.triggers,r=t.innerProps,i=r.type,o=r.onMacro,a=r.delimiter,c=t.status.draft.editorState,s=c.getSelection();if(s.isCollapsed()){var u=c.getCurrentContent(),l=s.getAnchorKey(),y=u.getBlockForKey(l),f=s.getAnchorOffset(),g=y.getEntityAt(f)||y.getEntityAt(f-1);if(null!==g&&u.getEntity(g).getType()===i){var d="",p=-1,m=-1;y.findEntityRanges(function(t){return t.getEntity()===g},function(t,e){p=t,m=e,d=y.getText().substring(t,e)});var v=t.status.macro.active;(v&&v.entityKey!==g||d.length&&(!v||v.content!==d))&&n.macro.update(e.compose(o,{delimiter:a,content:d,entityKey:g,blockKey:l,macroStartOffset:p,macroEndOffset:m,type:i}))}else n.macro.update(null),n.macro.updateVisibility(!0)}}Object.defineProperty(e,"__esModule",{value:!0}),e.activateMacroComposer=n});
//# sourceMappingURL=activate_macro_composer.min.js-vflBkkZva.map