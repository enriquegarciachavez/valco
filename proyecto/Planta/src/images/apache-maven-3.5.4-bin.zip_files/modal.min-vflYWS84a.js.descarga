define(["require","exports","tslib","external/react","modules/clean/analytics","modules/clean/em_string","modules/clean/filepath","modules/clean/react/copy_to_dropbox/actions","modules/clean/react/modal","modules/clean/react_format","modules/clean/share_download/types","modules/clean/share_download/utils","modules/clean/viewer","modules/core/i18n","modules/core/notify"],function(e,o,t,a,n,r,s,l,m,i,c,d,u,p,_){"use strict";function y(e){var o=u.Viewer.get_viewer();if(o.is_paired)switch(e){case"personal":return p._("Saving to your personal Dropbox...");case"work":return p._("Saving to your %(team_name)s Dropbox...").format({team_name:o.team_name})}return p._("Saving to your Dropbox...")}function b(e,o){var t=u.Viewer.get_viewer(),a=t.get_user_by_role(o);if(a&&a.is_cdm_member)return p._("Save to your member folder?");if(t.is_paired)switch(o){case"personal":return p._("Save to your personal Dropbox account?");case"work":var n=t.team_name,s=new r.Emstring(n||"").length,l=Math.max(10,15-s);return p._("Save ‘%(name)s’ to my %(team_name)s Dropbox").format({name:r.Emstring.em_snippet(e,l),team_name:n})}return p._("Save ‘%(name)s’ to my Dropbox").format({name:r.Emstring.em_snippet(e,15)})}function f(e,o,t){var n=u.Viewer.get_viewer(),l=n.get_user_by_role(o);if(e=r.Emstring.em_snippet(e,15),l&&l.is_cdm_member)return i.reactFormat(p._("<strong>%(name)s</strong> will be saved to the <strong>%(cdm_tmf_name)s</strong> folder in your %(team_name)s Dropbox account."),{name:e,cdm_tmf_name:s.filename(l.cdm_tmf_path),team_name:n.team_name,strong:a.createElement("strong",null)});if(n.is_paired)switch(o){case"personal":return i.reactFormat(p._("<strong>%(name)s</strong> will be saved to your personal Dropbox account and synced to any connected devices."),{name:e,strong:a.createElement("strong",null)});case"work":switch(t){case c.CopyableType.Collection:return p._("This album will be instantly saved to your %(team_name)s Dropbox and downloaded to all the computers linked to your %(team_name)s account.").format({team_name:n.team_name});case c.CopyableType.Folder:return p._("This folder will be instantly saved to your %(team_name)s Dropbox and downloaded to all the computers linked to your %(team_name)s account.").format({team_name:n.team_name});default:return p._("This file will be instantly saved to your %(team_name)s Dropbox and downloaded to all the computers linked to your %(team_name)s account.").format({team_name:n.team_name})}}switch(t){case c.CopyableType.Collection:return p._("This album will be instantly saved to your Dropbox and downloaded to all the computers linked to your account.");case c.CopyableType.Folder:return p._("This folder will be instantly saved to your Dropbox and downloaded to all the computers linked to your account.");default:return p._("This file will be instantly saved to your Dropbox and downloaded to all the computers linked to your account.")}}Object.defineProperty(o,"__esModule",{value:!0}),a=t.__importStar(a),s=t.__importStar(s);var h=(function(e){function o(){var o=null!==e&&e.apply(this,arguments)||this;return o.handleAccept=function(){var e=y(o.props.role);_.Notify.success(e),l.copySharedFile(o.props.shareToken,o.props.userId)},o}return t.__extends(o,e),o.prototype.componentDidMount=function(){n.WebMiscActivityLogger.log("show-c2d-modal")},o.prototype.render=function(){var e=this.props,o=e.copyable,t=e.role,n=d.getCopyableName(o),r=d.getCopyableType(o);return a.createElement(m.Modal,{title:b(n,t),acceptButtonText:p._("Save"),dismissButtonText:p._("Cancel"),onAccept:this.handleAccept,onDismiss:this.props.onDismiss,style:"default-maestro"},a.createElement("p",{className:"db-modal-message"},f(n,t,r)))},o})(a.Component);o.CopyToDropboxModal=h});
//# sourceMappingURL=modal.min.js-vflbELfua.map