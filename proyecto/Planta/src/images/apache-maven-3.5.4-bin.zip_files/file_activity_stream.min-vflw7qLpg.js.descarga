define(["require","exports","tslib","external/react","modules/core/i18n","modules/clean/react/css","modules/clean/components/loading_indicator","modules/clean/react/file_activity_stream/feedback_panel","modules/clean/react/file_sidebar/file_sidebar_connect","modules/clean/react/file_sidebar/store/file_activity/actions","modules/clean/react/file_sidebar/store/file_activity/selectors","modules/clean/react/file_activity_stream/file_activity_stream_card_factory"],function(e,t,i,r,a,n,l,c,s,o,_,d){"use strict";function m(e){var t=_.getActivitiesMetadata(e),r=_.getFeedbackState(e);return{activities:i.__assign({},t),feedback:i.__assign({},r)}}Object.defineProperty(t,"__esModule",{value:!0}),r=i.__importStar(r),o=i.__importStar(o),_=i.__importStar(_);var u=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onRefreshClick=function(e){var i=t.props,r=i.dispatch,a=i.file,n=i.user;e.preventDefault(),r(o.reset()),r(o.getActivityStream(n.id,a))},t}return i.__extends(t,e),t.prototype.renderDebug=function(){return null},t.prototype.renderLoading=function(){return r.createElement("div",{className:"file_activity_stream file_activity_stream-overlay"},r.createElement(l.LoadingIndicator,{style:l.LoadingIndicator.LoadingIndicatorStyle.BLUE_SPINNER}))},t.prototype.renderError=function(){return r.createElement("div",{className:"file_activity_stream file_activity_stream-overlay"},r.createElement("div",{className:"file_activity_stream__centered_panel"},a._("Oops, we had an issue."),r.createElement("a",{href:"",onClick:this.onRefreshClick},a._("Try again"))))},t.prototype.renderNoLogs=function(){return r.createElement("div",{className:"file_activity_stream"},r.createElement("div",{className:"file_activity_stream__empty_state"},r.createElement("h4",null,a._("No recent activity")),r.createElement("p",null,a._("Once people start doing things with this file, you’ll see their activity here."))))},t.prototype.renderOldFile=function(){return r.createElement("div",{className:"file_activity_stream"},r.createElement("div",{className:"file_activity_stream__empty_state"},r.createElement("h4",null,a._("No recent activity")),r.createElement("p",null,a._("This file hasn’t been updated in the past year."))))},t.prototype.render=function(){var e=this.props,t=e.activities,i=e.feedback,a=e.file,n=e.user;return t&&i?!t.loaded&&t.loading?this.renderLoading():0===t.value.length?t.error?this.renderError():"number"==typeof a.ts&&Math.floor(Date.now()/1e3)-a.ts>=7776e3?this.renderOldFile():this.renderNoLogs():r.createElement("div",{className:"file_activity_stream"},i.shouldShow&&r.createElement(c.FeedbackPanel,null),t.value.map(function(e){return r.createElement(d.FileActivityStreamCardFactory,{key:e.id,activity:e,file:a,viewingUser:n})}),this.renderDebug()):null},t})(r.Component);t.FileActivityStream=s.fileSidebarConnect(m)(n.requireCssWithComponent(u,["/static/css/file_activity_stream-vflHQEXuA.css"]))});
//# sourceMappingURL=file_activity_stream.min.js-vflX4SPz_.map